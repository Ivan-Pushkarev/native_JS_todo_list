const str = "Browser and Developer tools\n" +
    "Как работает браузер\n" +
    "Developer tools  <a href ='https://youtu.be/6B1XQ0Ukn6c'>Смотреть видео</a>\n" +
    "Network tab <a href ='https://youtu.be/o1ZfsV9kGLA'>Смотреть видео</a>\n" +
    "Зависимые запросы. Network Waterfall  <a href ='https://youtu.be/vFn-2XiBSxA'>Смотреть видео</a>\n" +
    "WebStorm and Hello world <a href ='https://youtu.be/C9NcErhFMVk'>Смотреть видео</a>" + "NEW" +
    "HTML\n" +
    "Main tags doctype, html, head, body <a href ='https://youtu.be/gupNH-T2NpY'>Смотреть видео</a>\n" +
    "Tags h1, h2, h3, p. WebStorm shortcuts  <a href ='https://youtu.be/DFZjtCaptTw'>Смотреть видео</a>\n" +
    "Теги для форматирования текста: strong, b, i, s, u  <a href ='https://youtu.be/Gpgvl2bQIOE'>Смотреть видео</a>\n" +
    "Tags div, span  <a href ='https://youtu.be/oA0_ExPZ6JA'>Смотреть видео</a>\n" +
    "Маркированные и нумерованные списки\n" +
    "Ссылки – создание связей между страницами  <a href ='https://youtu.be/4IXu8g40k8c'>Смотреть видео</a>\n" +
    "Images from remote source  <a href ='https://youtu.be/kGs8oDh58BM'>Смотреть видео</a>\n" +
    "Images from a local source  <a href ='https://youtu.be/4iWGIYY6_yU'>Смотреть видео</a>\n" +
    "Атрибуты для добавления свойств к тегам \n" +
    "Tables  <a href ='https://youtu.be/qV9lHgTo6FQ'>Смотреть видео</a>" + "NEW" +
    "HTML + CSS\n" +
    "Для чего нужны стили\n" +
    "Браузерные инструменты отладки\n" +
    "Подключение файла стилей\n" +
    "Синтаксис CSS\n" +
    "Цвет текста – color\n" +
    "Цвет фона – background\n" +
    "Размер шрифта – font-size\n" +
    "Обводка – border\n" +
    "Внешний отступ – margin\n" +
    "Внутренний отступ – padding\n" +
    "Селекторы по тегу\n" +
    "Селекторы по id\n" +
    "Селекторы по классу\n" +
    "Универсальный селектор *\n" +
    "Позиционирование\n" +
    "Псевдоклассы\n" +
    "Псевдоэлементы\n" +
    "Группировка\n" +
    "Наследование свойств\n" +
    "Блочные и строчные элементы\n" +
    "Приоритет и переопределение свойств\n" +
    "Ключевое слово !important\n" +
    "Специфичность" + "NEW" +
    "HTML + JS\n" +
   
    "Подключение JS к HTML странице <a href ='https://youtu.be/SwxJMqKtbhk'>Смотреть видео</a>\n" +
    "Event handler onclick  <a href ='https://youtu.be/SMqoff0DFoU'>Смотреть видео</a>\n" +
    "Поиск DOM элемента по тегу – getElementsByTagName  <a href ='https://youtu.be/-6ouNpRgol4'>Смотреть видео</a>\n" +
    "Поиск DOM элемента по id – getElementById  <a href ='https://youtu.be/3SR4T00lY8s'>Смотреть видео</a>\n" +
    "Поиск DOM элемента по id – GetElementsByClassName  <a href ='https://youtu.be/Bs_y9lacV60'>Смотреть видео</a>\n" +
    "Counter app. Изменение текста DOM элемента <a href ='https://youtu.be/EVu9hVYkgd0'>Смотреть видео</a>\n" +
    "TodoList. List generator. createElement, appendChild  <a href ='https://youtu.be/D1Y6adnVXx8'>Смотреть видео</a>\n" +
    "TodoList. Add item to list, List render  <a href ='https://youtu.be/LvraBGJO4-M'>Смотреть видео</a>\n" +
    "TodoList. Optimisation selectors  <a href ='https://youtu.be/k8CQf_sjaKk'>Смотреть видео</a>\n" +
    "TodoList. Add buttons Done <a href ='https://youtu.be/27asOd07mV8'>https://Смотреть видео</a>\n" +
    "Изменение свойств DOM элемента\n" +
    "Установка обработчиков событий.\n" +
    "Event bubbling, propagation, capturing\n" +
    "Удаление DOM элемента\n" +
    "Копирование DOM элемента\n" +
    "Перемещение DOM элемента\n" +
    "Добавление DOM элемента\n" +
    "Создание счетчика\n" +
    "Создание Todo list app\n" +
    "Асинхронные запросы\n" +
    "Задержки setTimeout\n" +
    "Отправка форм асинхронным запросом" + "NEW" +
    "React\n" +
    "Преимущество React перед HTML + JS\n" +
    "Установка окружения Node, NPM\n" +
    "Редактор кода Webstorm, терминал.\n" +
    "Новый проект React App\n" +
    "JSX синтаксис\n" +
    "Компоненты – строительные блоки приложения\n" +
    "Композиция компонентов. Как создавать сложные вещи из множества простых\n" +
    "Наследование, которого нет\n" +
    "Иерархия компонентов\n" +
    "Передача данных между компонентами с помощью Props\n" +
    "Подключение CSS-фреймворка Bootstrap, чтобы задавать внешний вид приложений\n" +
    "Обработчик нажатия onClick. Event handlers\n" +
    "Состояние компонента – Hook useState\n" +
    "Обработчик ввода текста в форму onChange\n" +
    "Манипулирование состоянием\n" +
    "Контролируемые компоненты\n" +
    "Stateless компоненты\n" +
    "Smart vs Dumb Components\n" +
    "Hook useEffect\n" +
    "REST API запросы. Асинхронное получение данных. Fetch. Axios.\n" +
    "Компоненты на основе классов\n" +
    "Жизненный цикл class-based компонента\n" +
    "Pure component\n" +
    "Устройство Redux.\n" +
    "Инструменты разработчика для отладки store\n" +
    "Асинхронное обновление Redux Store. Thunk\n" +
    "Git и GitHub. Публикация проекта в GitHub Pages\n" +
    "Публикация в Heroku\n" +
    "Публикация в Netlify\n" +
    "Публикация в AWS"

const arr = str.split('NEW')
let list = []
arr.forEach(el => list.push(el.split(/\n/g)))

const finalList = list.map(createList)
const localList =JSON.parse(localStorage.getItem("list"))
console.log('local storage',localList)

function createList(el) {
    const title = el.shift()
    const content = el.map(contentToObj)
    return {title, content, open:false}
}

function contentToObj(el) {
    return {id: Math.random(), done: false, name: el}
}

console.log(finalList)
function render() {
    finalList.forEach(el => {
        
        // Создание заголовков
        
            let titleList = document.createElement('li');
            let titleName = document.createElement("span")
            titleName.innerHTML = el.title
            titleName.className= "title"
            
            titleList.append(titleName)
            titleList.className = "menu"
    
        // Создание подпунктов
        
            const innerList = document.createElement("ul")
            innerList.className = "animate__animated animate__fadeIn animate__slow"
            for (let item of el.content) {
                const innerListItem = document.createElement('li')
                const innerListItemWrapper = document.createElement('div')
                
                innerListItemWrapper.innerHTML = `<span>${item.name}</span>`
                innerListItemWrapper.className = "innerItem"
        // Добавление кнопок
                const markASDoneButton = document.createElement("button")
                markASDoneButton.innerHTML ="<img src=\"img/completed-icon-0.jpg\" alt=\"\">"
                markASDoneButton.className = "doneButton"
                markASDoneButton.onclick = function() {
                    innerListItem.classList.toggle('done');
                    markASDoneButton.classList.toggle('done');
                };
                innerListItemWrapper.append( markASDoneButton)     // помещаем кнопку в обертку
                innerListItem.append(innerListItemWrapper)         // помещаем обертку в li
                innerList.append(innerListItem)                    // помещаем li в ul
            }
            titleList.append(innerList)
            titleName.onclick = function() {
                  titleList.classList.toggle('open')
            };
            document.getElementById("list").append(titleList);
        }
    );
}

render();

// Анимация логотипа
const element = document.querySelector('#logo');
element.className = ("animate__flipInY animate__animated animate__slower");
element.addEventListener('animationend', () => {
    element.className = "animate__flipInY animate__animated animate__slower"
    setTimeout(()=> {
            element.className ="animate__flipOutY animate__animated animate__slower animate"
        }, 20000
    )
});
localStorage.setItem("list",JSON.stringify(finalList))



